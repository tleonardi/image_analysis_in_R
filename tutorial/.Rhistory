library(EBImage)
library(tiff)
setwd("~/Desktop/bioinformatics workshop")
a <- as.Image(readTIFF("/Users/tleonardi/Desktop/bioinformatics workshop/teo/out/Series001.tiff"))
colorMode(a) <- "color"
display(a)
]
nuc <- a[,,1]
cel <- a[,,3]
img = rgbImage(green=cel, blue=nuc)
display(img)
nmask = thresh(nuc, w=35, h=35, offset=0.15)
library(tiff)
display(nmask)
nmask = opening(nmask, makeBrush(15, shape="disc"))
display(nmask)
nmask = fillHull(nmask)
nmask = bwlabel(nmask)
display(nmask)
display(normalize(nmask))
nucgray = channel(nuc, "rgb")
nucgray = paintObjects(nmask, nucgray, col="#ff00ff")
nucgray = channel(nuc, "rgb")
labeled_nuc = paintObjects(nmask, nucgray, col="#ff00ff")
colorMode(nmask) <- "Grey"
colorMode(nmask) <- "grey"
?colorMode
colorMode(nmask) <- "Grayscale"
nucgray = channel(nuc, "rgb")
labeled_nuc = paintObjects(nmask, nucgray, col="#ff00ff")
display(labeled_nuc)
colorMode(nmask) <- "Grayscale"
nucgray = channel(nuc, "rgb")
labeled_nuc = paintObjects(nmask, nucgray, col="#ff00ff")
display(labeled_nuc)
colorMode(nmask) <- "Grayscale"
nucgray = channel(nuc, "rgb")
nucgray = paintObjects(nmask, nucgray, col="#ff00ff")
display(labeled_nuc)
colorMode(nmask) <- "Grayscale"
nucgray = channel(nuc, "rgb")
nuch2 = paintObjects(nmask, nucgray, col="#ff00ff")
display(labeled_nuc)
colorMode(nmask) <- "Grayscale"
nucgray = channel(nuc, "rgb")
nucgray = paintObjects(nmask, nucgray, col="#ff00ff")
colorMode(nucgray) <- "color"
display(labeled_nuc)
ctmask = opening(cel>0.3, makeBrush(5, shape="disc"))
cmask = propagate(cel, seeds=nmask, mask=ctmask, lambda=1e-1)
cmask = fillHull(cmask)
res = paintObjects(cmask, img, col="#ff00ff")
res = paintObjects(nmask, res, col="#ffff00")
colorMode(nucgray) <- "cmask"
res = paintObjects(cmask, img, col="#ff00ff")
colorMode(cmask) <- "color"
res = paintObjects(cmask, img, col="#ff00ff")
colorMode(cmask) <- "Grayscale"
res = paintObjects(cmask, img, col="#ff00ff")
display(res)
display(nuc)
colorMode(cmask) <- "Grayscale"
res = paintObjects(cmask, img, col="#ff00ff")
res = paintObjects(nmask, res, col="#ffff00")
display(res)
colorMode(cmask) <- "Grayscale"
res = paintObjects(cmask, img, col="#FF0000")
res = paintObjects(nmask, res, col="#ffff00")
display(res)
dim(img)
1040/3
1392/3
?thresh
nmask = thresh(nuc, w=35, h=35, offset=0)
display(nmask)
y=h=35
f = matrix(1, nc=2*w+1, nr=2*h+1)
w=h=35
f = matrix(1, nc=2*w+1, nr=2*h+1)
f
dim(f)
f=f/sum(f)
a <- filter2(nmask, f)
a <- filter2(nuc, f)
display(nuc)
display(a)
display(a+0.15)
display(nuc>(a+0.15)
)
display(nuc>0.15)
display(nuc>0.18)
display(nuc>0.20)
display(nuc>(a+0.15))
display(nuc>0.30)
display(nuc>0.30)
display(nuc>(a+0.15))
w=h=10
a <- filter2(nuc, f)
display(nuc>(a+0.15))
f = matrix(1, nc=2*w+1, nr=2*h+1)
f=f/sum(f)
a <- filter2(nuc, f)
display(nuc>(a+0.15))
display(a)
display(a+0.15)
?opening
makeBrush(15, shape="disc")
head(nmask)
t(nmask)
resize(t(nmask), w=347, h=464)
head(img)
head(t(img))
dim(img)
1040/4
1392/4
library(knitr)
knit2pdf("presentation.md")
knit2pdf("presentation/presentation.md")
knit2pdf("presentation/presentation.Rmd")
tif_files <- as.Image(readTIFF("bioinformatics workshop/teo/out/Series001.tiff"))
knit2pdf("test.Rmd")
knit2pdf("test.Rmd")
knit("test.Rmd")
knit2pdf("new.Rnw")
library(knitr)
knit2pdf("new.Rnw")
knit2pdf("new.Rnw")
knit2pdf("new.Rnw")
resize(img, 100, 100)
knit2pdf("new.Rnw")
knit2pdf("new.Rnw")
knit("test.Rmd")
knit("test.Rmd")
knit("test.Rmd")
knit2pdf("test.Rmd")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
library(grid)
grid.raster(img)
rasterImage(img)
?grid.raster
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
?thresh
?opening
?makeBrush
a<-matrix(nc=50,nr=50)
a<-0
a[30:40,30:40] <- 1
a[30:40,30:40]
a[30:40,30:40]
head(a)
a<-matrix(nc=50,nr=50)
head(a)
a <- rep(1,2500)
head(a)
a <- rep(0,2500)
a[30:40,30:40]
head (A)
head(a)
a<-matrix(nc=50,nr=50)
a <- rep(0,2500)
head(a)
a<-matrix(rep(0,2500),nc=50,nr=50)
head(A)
head(a)
a[30:40,30:40]
a[30:40,30:40] <- 1
head(a)
display(a,method="raster")
display(erode(a), method="raster")
kern
display(dilate(a), method="raster")
display(a,method="raster")
a[10:15,10:15] <- 1
display(a,method="raster")
display(erode(a), method="raster")
display(dilate(erode(a)), method="raster")
a[45:49,1:19] <- 1
display(a,method="raster")
display(dilate(erode(a)), method="raster")
a[45:49,40:43] <- 1
display(a,method="raster")
display(dilate(erode(a)), method="raster")
a[45:49,1:19] <- 1
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
ctmask = opening(cel>0.3, makeBrush(5, shape="disc"))
grid.raster(ctmask)
cmask = propagate(cel, seeds=nmask, mask=ctmask, lambda=1e-1)
cmask = fillHull(cmask)
grid.raster(ctmask)
display(ctmask)
display(normalize(ctmask))
?propagate
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
head(all_features)
ggplot(all_features, aes(b.mean)) + geom_density()
library(ggplot2)
ggplot(all_features, aes(b.mean)) + geom_density()
ggplot(all_features, aes(b.mean)) + geom_density() + theme_bw()
ggplot(all_features, aes(b.mean)) + geom_density()
ggplot(all_features, aes(x=s.area, y=b.mean)) + geom_density()
ggplot(all_features, aes(x=s.area, y=b.mean)) + geom_point()
ggplot(all_features, aes(s.area)) + geom_density()
ggplot(all_features, aes(x=s.area, y=m.majoraxis)) + geom_point()
ggplot(all_features, aes(x=b.mean, y=m.eccentricity)) + geom_point()
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
knit("new.Rnw")
install.package("tiff")
install.packages("tiff")
knit("new.Rnw")
knit("new.Rnw")
setwd("~/Desktop/bioinformatics_workshop/tutorial")
knit("tutorial.Rnw")
knit("tutorial.Rnw")
knit("tutorial.Rnw")
knit("tutorial.Rnw")
setwd("~/Desktop/bioinformatics_workshop")
grid.raster()
?grid.raster
setwd("~/Google Drive/LAB/Teaching/bioinformatics workshop/image_analysis_presentation")
knit("image_analysis_presentation.Rmd")
knit("image_analysis_presentation.Rmd")
setwd("~/Google Drive/LAB/Teaching/bioinformatics workshop/tutorial")
knit("tutorial.Rnw")
knit("tutorial.Rnw")
